---
import { MenuIcon } from "@lucide/astro";

const navbarLinks = [
  { href: "/#home", label: "Home" },
  { href: "/#about", label: "About" },
  { href: "/#methodology", label: "Methodology" },
  { href: "/#services", label: "Services" },
  { href: "/#global-impact", label: "Global Impact" },
  { href: "/#industries", label: "Industries" },
  { href: "/#why-choose-us", label: "Why Choose Us" },
  { href: "/contact", label: "Contact" },
];
---

<header
  class="sticky top-0 z-50 flex flex-col gap-4 border-b border-gray-100 bg-blue-50 px-8 py-4 shadow-md backdrop-blur-sm transition-all duration-300 md:px-16"
  id="navbar"
>
  <div class="flex w-full items-center justify-between">
    <!-- Logo -->
    <a href="/" class="h-6 w-auto">
      <img src="/logo.png" alt="Numiq Logo" class="size-full" />
    </a>

    <!-- Desktop Menu -->
    <div class="mx-auto hidden items-center gap-6 md:flex">
      {
        navbarLinks.map((link) => (
          <a
            href={link.href}
            class="text-base font-medium text-gray-900 transition-colors hover:text-blue-700"
          >
            {link.label}
          </a>
        ))
      }
    </div>
    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-btn"
      class="flex items-center p-2 text-gray-700 hover:text-gray-900 focus:outline-none md:hidden"
    >
      <MenuIcon class="size-6" />
    </button>
  </div>

  <!-- Mobile Menu Panel -->
  <div
    id="mobile-menu"
    class="hidden w-full border-t border-blue-200 bg-blue-50 md:hidden"
  >
    <div class="flex flex-col items-stretch justify-center gap-2">
      {
        navbarLinks.map((link) => (
          <a
            href={link.href}
            class="block rounded-md px-3 py-2 text-base font-medium text-blue-800"
          >
            {link.label}
          </a>
        ))
      }
    </div>
  </div>
</header>

<script>
  const mobileMenuToggleButton = document.getElementById("mobile-menu-btn");
  const mobileMenu = document.getElementById("mobile-menu");

  if (mobileMenuToggleButton && mobileMenu) {
    mobileMenuToggleButton.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    // Close menu when clicking a link
    document.querySelectorAll("#mobile-menu a").forEach((link) => {
      link.addEventListener("click", () => {
        mobileMenu.classList.add("hidden");
      });
    });
  }
</script>
