---
import { MenuIcon } from "@lucide/astro";

const navbarLinks = [
  { href: "/", label: "Home" },
  { href: "/services", label: "Services" },
  { href: "/contact", label: "Contact" },
];
---

<div
  class="sticky top-0 z-50 flex flex-col gap-4 border-b border-gray-100 bg-white/95 px-4 py-5 shadow-md backdrop-blur-sm transition-all duration-300 sm:px-6 md:px-8 lg:px-10"
  id="navbar"
>
  <div class="flex w-full items-center justify-between">
    <!-- Logo -->
    <a href="/" class="flex shrink-0 items-center gap-2">
      <div
        class="bg-brand-800 flex h-8 w-8 items-center justify-center rounded text-lg font-bold text-white"
      >
        N
      </div>
      <span class="text-xl font-bold tracking-tight text-gray-900"
        >NUMIQ <span class="text-brand-700">INDIA</span></span
      >
    </a>

    <!-- Desktop Menu -->
    <div class="hidden items-center gap-6 md:flex">
      {
        navbarLinks.map((link) => (
          <a
            href={link.href}
            class="hover:text-brand-700 text-base font-medium text-gray-900 transition-colors"
          >
            {link.label}
          </a>
        ))
      }
    </div>
    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-btn"
      class="flex items-center p-2 text-gray-700 hover:text-gray-900 focus:outline-none md:hidden"
    >
      <MenuIcon class="size-6" />
    </button>
  </div>

  <!-- Mobile Menu Panel -->
  <div
    id="mobile-menu"
    class="hidden w-full border-t border-gray-100 bg-white md:hidden"
  >
    <div class="flex flex-col items-stretch justify-center gap-2">
      {
        navbarLinks.map((link) => (
          <a
            href={link.href}
            class="text-brand-800 block rounded-md px-3 py-2 text-base font-medium"
          >
            {link.label}
          </a>
        ))
      }
    </div>
  </div>
</div>

<script>
  const btn = document.getElementById("mobile-menu-btn");
  const menu = document.getElementById("mobile-menu");

  if (btn && menu) {
    btn.addEventListener("click", () => {
      menu.classList.toggle("hidden");
    });

    // Close menu when clicking a link
    document.querySelectorAll("#mobile-menu a").forEach((link) => {
      link.addEventListener("click", () => {
        menu.classList.add("hidden");
      });
    });
  }
</script>
